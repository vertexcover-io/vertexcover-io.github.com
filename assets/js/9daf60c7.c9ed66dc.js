"use strict";(self.webpackChunkblog_vertexcover=self.webpackChunkblog_vertexcover||[]).push([[1881],{614:(e,n,i)=>{i.d(n,{A:()=>t});i(6540);var r=i(4848);function t({children:e}){return(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 my-5 border-l-4 border-l-blue-500 dark:border-l-blue-400",children:[(0,r.jsx)("strong",{className:"text-blue-600 dark:text-blue-400 text-sm uppercase tracking-wide font-semibold",children:"TL;DR:"}),(0,r.jsx)("div",{className:"mt-2 text-gray-800 dark:text-gray-200",children:e})]})}},4957:(e,n,i)=>{i.d(n,{A:()=>s});var r=i(6540),t=i(4848);const s=({summary:e,children:n})=>{const[i,s]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"my-4",children:[(0,t.jsxs)("button",{onClick:()=>s(!i),className:" inline-flex items-center gap-2  text-sm text-blue-600 dark:text-blue-400  hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-md px-2 py-1 -mx-2 -my-1 ","aria-expanded":i,children:[(0,t.jsx)("svg",{className:"w-4 h-4 transition-transform duration-200 "+(i?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e]}),(0,t.jsx)("div",{className:`\n          overflow-hidden transition-all duration-300 ease-in-out\n          ${i?"max-h-[2000px] opacity-100 mt-3":"max-h-0 opacity-0"}\n        `,children:(0,t.jsx)("div",{className:"border-l-2 border-gray-200 dark:border-gray-700 pl-4 text-sm",children:n})})]})}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var r=i(6540);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},8720:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"permalink":"/linkedin-scraper-mcp-integration","source":"@site/blog/2025-10-06-linkedin-scraper-mcp.mdx","title":"Building a LinkedIn Scraper (and Turning It Into an MCP Integration)","description":"We recently built a LinkedIn scraping tool that can extract profiles, company data, and connections without getting flagged.","date":"2025-11-06T00:00:00.000Z","tags":[{"inline":true,"label":"web-scraping","permalink":"/tags/web-scraping"},{"inline":true,"label":"mcp","permalink":"/tags/mcp"},{"inline":true,"label":"automation","permalink":"/tags/automation"}],"readingTime":5.03,"hasTruncateMarker":true,"authors":[{"name":"Aman Kumar Singh","title":"Software Engineer Intern","url":"https://github.com/amankumarsingh77","page":{"permalink":"/authors/aksdev"},"socials":{"linkedin":"https://www.linkedin.com/in/aksdev/","github":"https://github.com/amankumarsingh77"},"imageURL":"https://github.com/amankumarsingh77.png","key":"aksdev"}],"frontMatter":{"slug":"linkedin-scraper-mcp-integration","title":"Building a LinkedIn Scraper (and Turning It Into an MCP Integration)","date":"2025-11-06T00:00:00.000Z","authors":["aksdev"],"tags":["web-scraping","mcp","automation"],"draft":false},"unlisted":false,"prevItem":{"title":"Why Node.js and Python Don\'t Use Linux\'s Native Async I/O API","permalink":"/why-nodejs-python-avoid-linux-aio"},"nextItem":{"title":"Building a LinkedIn Scraper (and Turning It Into an MCP Integration)","permalink":"/linkedin-scraper-mcp-integration"}}');var t=i(4848),s=i(8453),a=i(614),l=i(4957);const o={slug:"linkedin-scraper-mcp-integration",title:"Building a LinkedIn Scraper (and Turning It Into an MCP Integration)",date:new Date("2025-11-06T00:00:00.000Z"),authors:["aksdev"],tags:["web-scraping","mcp","automation"],draft:!1},c=void 0,d={authorsImageUrls:[void 0]},h=[{value:"Why Build This?",id:"why-build-this",level:2},{value:"The Authentication Nightmare",id:"the-authentication-nightmare",level:2},{value:"Fixing Chrome Profile Persistence",id:"fixing-chrome-profile-persistence",level:2},{value:"Handling OTP Challenges in the CLI",id:"handling-otp-challenges-in-the-cli",level:2},{value:"Scraping: Where Premium Users Broke Everything",id:"scraping-where-premium-users-broke-everything",level:2},{value:"Search Filters: The Recursive Rabbit Hole",id:"search-filters-the-recursive-rabbit-hole",level:2},{value:"Proxy Support: IP Bans",id:"proxy-support-ip-bans",level:2},{value:"Stealth Mode: Hiding the Automation",id:"stealth-mode-hiding-the-automation",level:2},{value:"Human Behavior Simulation",id:"human-behavior-simulation",level:2},{value:"The MCP Integration",id:"the-mcp-integration",level:2},{value:"What I&#39;d Do Differently",id:"what-id-do-differently",level:2},{value:"Current Limitations",id:"current-limitations",level:2},{value:"Try It Yourself",id:"try-it-yourself",level:2},{value:"Final Thoughts",id:"final-thoughts",level:2}];function u(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.A,{children:(0,t.jsxs)(n.p,{children:["We recently built a LinkedIn scraping tool that can extract profiles, company data, and connections ",(0,t.jsx)(n.strong,{children:"without getting flagged"}),".",(0,t.jsx)(n.br,{}),"\n",'Sounds simple, right? Well, three weeks and countless "unusual activity detected" warnings later, We learned that scraping LinkedIn is less about parsing HTML and more about outsmarting their anti-bot systems.']})}),"\n",(0,t.jsxs)(n.p,{children:["Full source code: ",(0,t.jsx)(n.a,{href:"https://github.com/vertexcover-io/linkedin-spider",children:"github.com/vertexcover-io/linkedin-spider"})]}),"\n","\n",(0,t.jsx)(n.h2,{id:"why-build-this",children:"Why Build This?"}),"\n",(0,t.jsxs)(n.p,{children:["We built this to ",(0,t.jsx)(n.strong,{children:"automate our sales pipeline"})," \u2014 to find, connect, and communicate with potential leads directly from LinkedIn."]}),"\n",(0,t.jsx)(n.p,{children:"The official API is too limited for that. You can't filter profiles the way you need to, or access detailed company data."}),"\n",(0,t.jsxs)(n.p,{children:["So we built ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"linkedin-spider"})}),", a Python scraper with an ",(0,t.jsx)(n.strong,{children:"MCP server"})," on top that plugs into Claude Code.",(0,t.jsx)(n.br,{}),"\n","This setup lets Claude search for leads, gather insights, and even assist with outreach \u2014 all through natural language."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"the-authentication-nightmare",children:"The Authentication Nightmare"}),"\n",(0,t.jsx)(n.p,{children:"LinkedIn does not like bots \u2014 and it makes that very clear."}),"\n",(0,t.jsxs)(n.p,{children:["At first, we thought authentication would be simple: just grab the ",(0,t.jsx)(n.code,{children:"li_at"})," cookie, inject it, and start scraping.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Wrong."})]}),"\n",(0,t.jsxs)(n.p,{children:["LinkedIn's enhanced anti-bot system quickly detected cookie-based sessions, leading to random logouts and account challenges.",(0,t.jsx)(n.br,{}),"\n","So we pivoted to ",(0,t.jsx)(n.strong,{children:"email/password-based authentication with session persistence."})]}),"\n",(0,t.jsx)(n.p,{children:"The system now:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tries multiple authentication methods in order of reliability"}),"\n",(0,t.jsx)(n.li,{children:"Stores session cookies in a persistent Chrome profile"}),"\n",(0,t.jsx)(n.li,{children:"Minimizes repeated logins across runs"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"fixing-chrome-profile-persistence",children:"Fixing Chrome Profile Persistence"}),"\n",(0,t.jsxs)(n.p,{children:["In the early versions, Chrome profiles were stored in the working directory.",(0,t.jsx)(n.br,{}),"\n",'Users who ran the scraper from different folders were asked to log in every time \u2014 defeating the purpose of "persistence."']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"The fix?"})," A centralized profile directory that stays consistent across runs."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"handling-otp-challenges-in-the-cli",children:"Handling OTP Challenges in the CLI"}),"\n",(0,t.jsx)(n.p,{children:"Nothing tests your patience like LinkedIn's OTP challenges \u2014 especially when you're running a headless CLI tool."}),"\n",(0,t.jsx)(n.p,{children:"To handle this, we implemented an interactive pause during setup:"}),"\n",(0,t.jsx)(l.A,{summary:"OTP handling code \u2192",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def _handle_verification_code_challenge(self) -> bool:\n    print("\\n Email verification code required")\n    print("Please check your email for the verification code.")\n    verification_code = input("Enter the 6-digit verification code: ").strip()\n'})})}),"\n",(0,t.jsxs)(n.p,{children:["The CLI now detects OTP prompts, waits for user input, submits the code, and resumes.",(0,t.jsx)(n.br,{}),"\n","A simple feature, but getting it right across multiple challenge types was surprisingly tricky."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"scraping-where-premium-users-broke-everything",children:"Scraping: Where Premium Users Broke Everything"}),"\n",(0,t.jsxs)(n.p,{children:["It turns out LinkedIn's HTML isn't the same for all users \u2014 ",(0,t.jsx)(n.strong,{children:"premium accounts get entirely different structures"})," for the same pages."]}),"\n",(0,t.jsx)(n.p,{children:"Here's how we handled it:"}),"\n",(0,t.jsx)(l.A,{summary:"Multi-selector approach \u2192",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def _extract_name_and_url(self, container: WebElement) -> tuple[str, str]:\n    name_selectors = [\n        'a[data-view-name=\"search-result-lockup-title\"]',  # Free accounts\n        'span.entity-result__title-text a',                # Premium variant 1\n        'a.app-aware-link span[aria-hidden=\"true\"]',       # Premium variant 2\n    ]\n"})})}),"\n",(0,t.jsxs)(n.p,{children:["The scraper cycles through multiple selectors for each data point \u2014 name, headline, location, image URLs, and more.",(0,t.jsx)(n.br,{}),"\n","Not the most elegant solution, but ",(0,t.jsx)(n.strong,{children:"robust across user types."})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"search-filters-the-recursive-rabbit-hole",children:"Search Filters: The Recursive Rabbit Hole"}),"\n",(0,t.jsxs)(n.p,{children:["LinkedIn's search filters are deeply nested and dynamically generated.",(0,t.jsx)(n.br,{}),"\n","Filtering by location, for example, involves dropdowns, autocompletes, and generated IDs."]}),"\n",(0,t.jsxs)(n.p,{children:["To manage this, we built a dedicated ",(0,t.jsx)(n.code,{children:"SearchFilterHandler"})," that automates:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Location filters with autocomplete"}),"\n",(0,t.jsx)(n.li,{children:"Industry and company selectors"}),"\n",(0,t.jsx)(n.li,{children:"Current company searches"}),"\n",(0,t.jsx)(n.li,{children:"Connection degree filtering"}),"\n",(0,t.jsx)(n.li,{children:"Follower/connection-of filters"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Each required ",(0,t.jsx)(n.strong,{children:"reverse-engineering LinkedIn's front-end logic"})," and replicating it through Selenium."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"proxy-support-ip-bans",children:"Proxy Support: IP Bans"}),"\n",(0,t.jsx)(n.p,{children:"While authenticating the scraper on a server, LinkedIn frequently threw image-based challenges \u2014 impossible to solve in a headless browser."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"The solution?"})," A ",(0,t.jsx)(n.strong,{children:"residential proxy."}),(0,t.jsx)(n.br,{}),"\n","It mimics normal browsing behavior from a typical user IP, drastically reducing challenges and OTP prompts during authentication."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"stealth-mode-hiding-the-automation",children:"Stealth Mode: Hiding the Automation"}),"\n",(0,t.jsxs)(n.p,{children:["Selenium is easily detectable. LinkedIn can identify automated browsers via ",(0,t.jsx)(n.code,{children:"navigator"})," properties, missing APIs, or automation flags."]}),"\n",(0,t.jsxs)(n.p,{children:["To counter that, we added a ",(0,t.jsx)(n.strong,{children:"stealth mode"})," layer using Chrome DevTools Protocol. It:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Masks webdriver properties"}),"\n",(0,t.jsx)(n.li,{children:"Spoofs browser and OS information"}),"\n",(0,t.jsx)(n.li,{children:"Injects anti-detection scripts on each page load"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"human-behavior-simulation",children:"Human Behavior Simulation"}),"\n",(0,t.jsx)(n.p,{children:"Bots act like machines; humans don't."}),"\n",(0,t.jsxs)(n.p,{children:["We built a ",(0,t.jsx)(n.code,{children:"HumanBehavior"})," module that:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Adds random delays between actions (0.5\u20132s by default)"}),"\n",(0,t.jsx)(n.li,{children:"Simulates typing character-by-character with natural pauses"}),"\n",(0,t.jsx)(n.li,{children:"Scrolls incrementally rather than jumping"}),"\n",(0,t.jsx)(n.li,{children:"Adds mouse movements before clicks"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["These subtle touches reduce automation fingerprints and ",(0,t.jsx)(n.strong,{children:"improve long-term reliability."})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"the-mcp-integration",children:"The MCP Integration"}),"\n",(0,t.jsx)(n.p,{children:"MCP (Model Context Protocol) by Anthropic allows AI assistants to interact with external data sources."}),"\n",(0,t.jsxs)(n.p,{children:["We built an MCP server around ",(0,t.jsx)(n.code,{children:"linkedin-spider"}),", exposing scraping tools to assistants like Claude."]}),"\n",(0,t.jsx)(n.p,{children:"Claude can now answer queries like:"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:'"Find 10 product managers in San Francisco working at Series B startups."'}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example call:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'linkedin-mcp search_profiles   --query "product manager San Francisco Series B"   --max_results 10   --location "San Francisco"\n'})}),"\n",(0,t.jsx)(l.A,{summary:"Example output \u2192",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "name": "Anand Raghavan",\n    "headline": "VP Products, AI at Cisco",\n    "location": "San Francisco Bay Area",\n    "experience": [\n      {\n        "title": "Cisco",\n        "company": "Cisco",\n        "company_url": "https://www.linkedin.com/company/1063/",\n        "duration": "Full-time \xb7 2 yrs 4 mos",\n        "location": "San Francisco Bay Area"\n      }\n    ]\n  }\n]\n'})})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"what-id-do-differently",children:"What I'd Do Differently"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Decouple architecture:"})," Separate driver management from scraping logic earlier"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Async execution:"})," Move to async/await with concurrent drivers for bulk ops"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error recovery:"})," Add retry logic and exponential backoff"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dynamic selectors:"})," Build a remote selector update mechanism"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"current-limitations",children:"Current Limitations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cookie-based auth remains unreliable"}),"\n",(0,t.jsx)(n.li,{children:"Pagination caps restrict full dataset scraping"}),"\n",(0,t.jsx)(n.li,{children:"Rate limits still apply despite delays and proxies"}),"\n",(0,t.jsx)(n.li,{children:"Captchas still require manual intervention"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"try-it-yourself",children:"Try It Yourself"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'pip install linkedin-spider[cli]\n\nlinkedin-spider-cli search -q "software engineer" -n 10   --email your@email.com --password yourpass\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Full source code: ",(0,t.jsx)(n.a,{href:"https://github.com/vertexcover-io/linkedin-spider",children:"github.com/vertexcover-io/linkedin-spider"}),(0,t.jsx)(n.br,{}),"\n","Licensed under MIT \u2014 please use responsibly."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"final-thoughts",children:"Final Thoughts"}),"\n",(0,t.jsxs)(n.p,{children:["Building this scraper taught me that ",(0,t.jsx)(n.strong,{children:"web scraping is 30% engineering and 70% understanding the adversarial dynamics"})," between scrapers and platforms."]}),"\n",(0,t.jsxs)(n.p,{children:["LinkedIn doesn't want to be scraped \u2014 but can't entirely block it without breaking its own UX.",(0,t.jsx)(n.br,{}),"\n","That gap is where projects like this thrive."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["With great scraping power comes great responsibility.",(0,t.jsx)(n.br,{}),"\n","Don't spam. Don't exploit. Don't cross ethical lines.",(0,t.jsx)(n.br,{}),"\n","Use tools like this for research, automation, and legitimate data needs only."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);